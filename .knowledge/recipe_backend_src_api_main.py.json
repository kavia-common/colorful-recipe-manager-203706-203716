{"is_source_file": true, "format": "Python", "description": "The file is a FastAPI-based REST API implementation for managing recipes in-memory. It defines data models for recipes, provides API endpoints for CRUD operations, and includes middleware for CORS support.", "external_files": ["fastapi", "fastapi.middleware.cors", "pydantic", "datetime"], "external_methods": ["fastapi.FastAPI", "fastapi.HTTPException", "fastapi.Path", "fastapi.middleware.cors.CORSMiddleware", "pydantic.BaseModel", "pydantic.Field", "datetime.datetime", "datetime.timezone"], "published": ["app", "health_check", "list_recipes", "create_recipe", "get_recipe", "update_recipe", "delete_recipe"], "classes": [{"name": "RecipeBase", "description": "Schema for base recipe data used in create/update operations."}, {"name": "RecipeCreate", "description": "Schema for creating a new recipe."}, {"name": "RecipeUpdate", "description": "Schema for updating an existing recipe with optional fields."}, {"name": "Recipe", "description": "Schema representing a full recipe record stored in memory."}], "methods": [{"name": "str _utc_now_iso()", "description": "Returns current UTC timestamp as ISO 8601 string.", "scope": "", "scopeKind": ""}, {"name": "create_recipe(payload: RecipeCreate)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "delete_recipe( recipe_id: int = Path(..., ge=1, description=\"Recipe identifier\"), )", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "get_recipe( recipe_id: int = Path(..., ge=1, description=\"Recipe identifier\"), )", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "health_check()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "list_recipes()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "update_recipe( payload: RecipeUpdate, recipe_id: int = Path(..., ge=1, description=\"Recipe identifier\"), )", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fastapi.FastAPI", "fastapi.HTTPException", "fastapi.Path", "datetime.datetime.now", "datetime.timezone.utc"], "search-terms": ["FastAPI", "recipe CRUD endpoints", "in-memory recipe store", "pydantic models", "health check endpoint", "CORS middleware"], "state": 2, "file_id": 4, "knowledge_revision": 11, "git_revision": "25454cb7c9d80acfc2374aa49c03ccad49d06aba", "revision_history": [{"8": "4499bf6c2ccc8c2c33dd8f0ce93b966167079fed"}, {"10": "4499bf6c2ccc8c2c33dd8f0ce93b966167079fed"}, {"11": "25454cb7c9d80acfc2374aa49c03ccad49d06aba"}], "ctags": [{"_type": "tag", "name": "Recipe", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^class Recipe(RecipeBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RecipeBase", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^class RecipeBase(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RecipeCreate", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^class RecipeCreate(RecipeBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RecipeUpdate", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^class RecipeUpdate(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_NEXT_ID", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^_NEXT_ID: int = 1$/", "language": "Python", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "_RECIPES", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^_RECIPES: Dict[int, Recipe] = {}$/", "language": "Python", "typeref": "typename:Dict[int, Recipe]", "kind": "variable"}, {"_type": "tag", "name": "_utc_now_iso", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^def _utc_now_iso() -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^    color: Optional[str] = Field($/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "RecipeUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^    color: str = Field($/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "RecipeBase", "scopeKind": "class"}, {"_type": "tag", "name": "create_recipe", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^def create_recipe(payload: RecipeCreate):$/", "language": "Python", "kind": "function", "signature": "(payload: RecipeCreate)"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^    created_at: str = Field(..., description=\"ISO timestamp when created\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Recipe", "scopeKind": "class"}, {"_type": "tag", "name": "delete_recipe", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^def delete_recipe($/", "language": "Python", "kind": "function", "signature": "( recipe_id: int = Path(..., ge=1, description=\"Recipe identifier\"), )"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^    description: Optional[str] = Field($/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "RecipeUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^    description: str = Field($/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "RecipeBase", "scopeKind": "class"}, {"_type": "tag", "name": "get_recipe", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^def get_recipe($/", "language": "Python", "kind": "function", "signature": "( recipe_id: int = Path(..., ge=1, description=\"Recipe identifier\"), )"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^    id: int = Field(..., description=\"Recipe identifier\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "Recipe", "scopeKind": "class"}, {"_type": "tag", "name": "ingredients", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^    ingredients: List[str] = Field($/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "RecipeBase", "scopeKind": "class"}, {"_type": "tag", "name": "ingredients", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^    ingredients: Optional[List[str]] = Field($/", "language": "Python", "typeref": "typename:Optional[List[str]]", "kind": "variable", "scope": "RecipeUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "list_recipes", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^def list_recipes():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "openapi_tags", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^openapi_tags = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "steps", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^    steps: List[str] = Field($/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "RecipeBase", "scopeKind": "class"}, {"_type": "tag", "name": "steps", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^    steps: Optional[List[str]] = Field(default=None, description=\"List of step lines\")$/", "language": "Python", "typeref": "typename:Optional[List[str]]", "kind": "variable", "scope": "RecipeUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^    title: Optional[str] = Field($/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "RecipeUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^    title: str = Field(..., min_length=1, max_length=120, description=\"Recipe title\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "RecipeBase", "scopeKind": "class"}, {"_type": "tag", "name": "update_recipe", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^def update_recipe($/", "language": "Python", "kind": "function", "signature": "( payload: RecipeUpdate, recipe_id: int = Path(..., ge=1, description=\"Recipe identifier\"), )"}, {"_type": "tag", "name": "updated_at", "path": "/home/kavia/workspace/code-generation/colorful-recipe-manager-203706-203716/recipe_backend/src/api/main.py", "pattern": "/^    updated_at: str = Field(..., description=\"ISO timestamp when last updated\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Recipe", "scopeKind": "class"}], "hash": "0861afe9e78c9653d63f1b41b1ce269b", "format-version": 4, "code-base-name": "recipe_backend", "filename": "recipe_backend/src/api/main.py", "fields": [{"name": "int _NEXT_ID", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[int, Recipe] _RECIPES", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[str] color", "scope": "RecipeUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "str color", "scope": "RecipeBase", "scopeKind": "class", "description": "unavailable"}, {"name": "str created_at", "scope": "Recipe", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] description", "scope": "RecipeUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "str description", "scope": "RecipeBase", "scopeKind": "class", "description": "unavailable"}, {"name": "int id", "scope": "Recipe", "scopeKind": "class", "description": "unavailable"}, {"name": "List[str] ingredients", "scope": "RecipeBase", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[List[str]] ingredients", "scope": "RecipeUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "openapi_tags = [", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "List[str] steps", "scope": "RecipeBase", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[List[str]] steps", "scope": "RecipeUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] title", "scope": "RecipeUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "str title", "scope": "RecipeBase", "scopeKind": "class", "description": "unavailable"}, {"name": "str updated_at", "scope": "Recipe", "scopeKind": "class", "description": "unavailable"}]}